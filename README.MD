# Daiminh

A .NET 8 web application with a multi-layer architecture.

## Project Structure

```
daiminh/
â”œâ”€â”€ core/                 # Core business logic and domain models
â”œâ”€â”€ infrastructure/       # Data access and external services
â”œâ”€â”€ web/                 # MVC web application
â””â”€â”€ tests/               # Test projects
```

## Prerequisites

TrÆ°á»›c khi báº¯t Ä‘áº§u, hÃ£y Ä‘áº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t:

- [.NET SDK 8.0](https://dotnet.microsoft.com/download/dotnet/8.0)
- [Docker](https://www.docker.com/products/docker-desktop/)
- [Docker Compose](https://docs.docker.com/compose/install/)

---

## Local Development Setup

### 1. Clone the Repository

```bash
git clone https://github.com/hunlorvike/daiminh.git daiminh
cd daiminh
```

### 2. Setup vÃ  Cháº¡y Dá»± Ãn

#### **Option 1: Sá»­ dá»¥ng Docker Compose (Recommended)**

1. **Khá»Ÿi Ä‘á»™ng cÃ¡c dá»‹ch vá»¥ (database, á»©ng dá»¥ng, etc.)**  
   Cháº¡y lá»‡nh sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng táº¥t cáº£ container cáº§n thiáº¿t:

   ```bash
   docker compose up -d
   ```

2. **Apply Database Migrations**  
   Cháº¡y lá»‡nh sau Ä‘á»ƒ cáº­p nháº­t database:

   ```bash
   dotnet ef database update --project ./infrastructure/infrastructure.csproj --startup-project ./web/web.csproj
   ```

3. **Build vÃ  Cháº¡y á»¨ng Dá»¥ng**  
   Cháº¡y cÃ¡c lá»‡nh sau Ä‘á»ƒ build vÃ  cháº¡y á»©ng dá»¥ng:

   ```bash
   dotnet clean daiminh.sln
   dotnet restore daiminh.sln
   dotnet build daiminh.sln
   dotnet run --project ./web/web.csproj
   ```
---

#### **Option 2: Cháº¡y thá»§ cÃ´ng khÃ´ng dÃ¹ng Docker**

Náº¿u báº¡n khÃ´ng muá»‘n sá»­ dá»¥ng Docker, cÃ³ thá»ƒ cháº¡y thá»§ cÃ´ng nhÆ° sau:

1. **Cáº¥u hÃ¬nh database**  
   - Äáº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t PostgreSQL.  
   - Cáº­p nháº­t connection string trong `appsettings.json`.

2. **Apply Database Migrations**  
   ```bash
   dotnet ef database update --project ./infrastructure/infrastructure.csproj --startup-project ./web/web.csproj
   ```

3. **Cháº¡y á»©ng dá»¥ng**  
   ```bash
   dotnet run --project ./web/web.csproj
   ```

---

## LÆ°u Ã½

- Náº¿u gáº·p lá»—i liÃªn quan Ä‘áº¿n Entity Framework, hÃ£y Ä‘áº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t cÃ´ng cá»¥ `dotnet-ef` báº±ng lá»‡nh:

  ```bash
  dotnet tool install --global dotnet-ef
  ```

- Náº¿u cÃ³ thay Ä‘á»•i trong migrations, cháº¡y láº¡i:

  ```bash
  dotnet ef migrations add <MigrationName> --project ./infrastructure/infrastructure.csproj --startup-project ./web/web.csproj
  dotnet ef database update --project ./infrastructure/infrastructure.csproj --startup-project ./web/web.csproj
  ```

ChÃºc báº¡n coding vui váº»! ğŸš€
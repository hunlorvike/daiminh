@using shared.Enums
@using web.Areas.Admin.ViewModels.Gallery
@model GalleryViewModel

<div class="row">
    <div class="col-lg-8">
        <!-- Main content -->
        <div class="card">
            <div class="card-body">
                <div class="mb-3">
                    <label asp-for="Name" class="form-label required">Tên thư viện</label>
                    <input asp-for="Name" class="form-control" id="galleryName" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Slug" class="form-label required">Slug</label>
                    <div class="input-group">
                        <input asp-for="Slug" class="form-control" id="gallerySlug" />
                        <button class="btn btn-outline-secondary" type="button" id="generateSlug">
                            <i class="fas fa-sync-alt"></i> Tạo slug
                        </button>
                    </div>
                    <span asp-validation-for="Slug" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Description" class="form-label">Mô tả</label>
                    <textarea asp-for="Description" class="form-control summernote" rows="5"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
            </div>
        </div>

        <!-- SEO -->
        <div class="card mt-3">
            <div class="card-header">
                <h3 class="card-title">Thông tin SEO</h3>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label asp-for="MetaTitle" class="form-label">Meta Title</label>
                    <input asp-for="MetaTitle" class="form-control" />
                    <span asp-validation-for="MetaTitle" class="text-danger"></span>
                    <small class="form-hint">Để trống để sử dụng tên thư viện</small>
                </div>

                <div class="mb-3">
                    <label asp-for="MetaDescription" class="form-label">Meta Description</label>
                    <textarea asp-for="MetaDescription" class="form-control" rows="2"></textarea>
                    <span asp-validation-for="MetaDescription" class="text-danger"></span>
                    <small class="form-hint">Để trống để sử dụng mô tả thư viện</small>
                </div>

                <div class="mb-3">
                    <label asp-for="MetaKeywords" class="form-label">Meta Keywords</label>
                    <input asp-for="MetaKeywords" class="form-control" />
                    <span asp-validation-for="MetaKeywords" class="text-danger"></span>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-check form-switch mb-3">
                            <input asp-for="NoIndex" class="form-check-input" type="checkbox" />
                            <label asp-for="NoIndex" class="form-check-label">Không đánh chỉ mục (noindex)</label>
                            <small class="form-hint d-block">Ngăn công cụ tìm kiếm đánh chỉ mục trang này</small>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-check form-switch mb-3">
                            <input asp-for="NoFollow" class="form-check-input" type="checkbox" />
                            <label asp-for="NoFollow" class="form-check-label">Không theo dõi liên kết (nofollow)</label>
                            <small class="form-hint d-block">Ngăn công cụ tìm kiếm theo dõi các liên kết trên trang này</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gallery Images -->
        @if (Model.Id > 0)
        {
            <div class="card mt-3">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h3 class="card-title">Quản lý ảnh</h3>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-image-modal">
                        <i class="fas fa-plus me-2"></i> Thêm ảnh mới
                    </button>
                </div>
                <div class="card-body">
                    <div class="gallery-images-container" id="gallery-images">
                        @if (Model.Images != null && Model.Images.Any())
                        {
                            <div class="row row-cards sortable-images">
                                @foreach (var image in Model.Images.OrderBy(i => i.OrderIndex))
                                {
                                    <div class="col-sm-6 col-lg-4" data-id="@image.Id">
                                        <div class="card card-sm">
                                            <a href="@image.ImageUrl" class="d-block" target="_blank">
                                                <img src="@(string.IsNullOrEmpty(image.ThumbnailUrl) ? image.ImageUrl : image.ThumbnailUrl)"
                                                     class="card-img-top" alt="@image.AltText" style="height: 180px; object-fit: cover;">
                                            </a>
                                            <div class="card-body">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <div>@(string.IsNullOrEmpty(image.Title) ? "Không có tiêu đề" : image.Title)</div>
                                                        <div class="text-muted">Thứ tự: @image.OrderIndex</div>
                                                    </div>
                                                    <div class="ms-auto">
                                                        <button type="button" class="btn btn-icon btn-sm btn-outline-primary edit-image"
                                                                data-id="@image.Id"
                                                                data-image-url="@image.ImageUrl"
                                                                data-thumbnail-url="@image.ThumbnailUrl"
                                                                data-alt-text="@image.AltText"
                                                                data-title="@image.Title"
                                                                data-description="@image.Description">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button type="button" class="btn btn-icon btn-sm btn-outline-danger delete-image" data-id="@image.Id">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="empty">
                                <div class="empty-img">
                                    <i class="fas fa-images fa-5x text-muted"></i>
                                </div>
                                <p class="empty-title">Chưa có ảnh nào</p>
                                <p class="empty-subtitle text-muted">
                                    Thêm ảnh vào thư viện để hiển thị ở đây
                                </p>
                                <div class="empty-action">
                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-image-modal">
                                        <i class="fas fa-plus me-2"></i> Thêm ảnh mới
                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }
    </div>

    <div class="col-lg-4">
        <!-- Publish settings -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Xuất bản</h3>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label asp-for="Status" class="form-label">Trạng thái</label>
                    <select asp-for="Status" class="form-select">
                        <option value="@PublishStatus.Draft">Nháp</option>
                        <option value="@PublishStatus.Published">Xuất bản</option>
                    </select>
                    <span asp-validation-for="Status" class="text-danger"></span>
                </div>

                <div class="form-check form-switch mb-3">
                    <input asp-for="IsFeatured" class="form-check-input" type="checkbox" />
                    <label asp-for="IsFeatured" class="form-check-label">Thư viện nổi bật</label>
                    <small class="form-hint d-block">Thư viện sẽ được hiển thị ở vị trí nổi bật trên trang chủ</small>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <a asp-action="Index" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left me-2"></i> Quay lại
                    </a>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save me-2"></i> @(Model.Id > 0 ? "Cập nhật" : "Lưu")
                    </button>
                </div>
            </div>
        </div>

        <!-- Categories and Tags -->
        <div class="card mt-3">
            <div class="card-header">
                <h3 class="card-title">Danh mục & Thẻ</h3>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label class="form-label required">Danh mục</label>
                    <div class="category-list">
                        @foreach (var category in Model.AvailableCategories)
                        {
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="CategoryIds" value="@category.Id" id="category-@category.Id" @(category.Selected ? "checked" : "")>
                                <label class="form-check-label" for="category-@category.Id">
                                    @category.Name
                                </label>
                            </div>
                        }
                    </div>
                    <span asp-validation-for="CategoryIds" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label">Thẻ</label>
                    <select id="tagSelect" class="form-select">
                        <option value="">Chọn thẻ...</option>
                        @foreach (var tag in Model.AvailableTags)
                        {
                            <option value="@tag.Id" selected="@(tag.Selected ? "selected" : "")">@tag.Name</option>
                        }
                    </select>
                    <div id="selectedTags" class="mt-3">
                        @foreach (var tagId in Model.TagIds)
                        {
                            var tag = Model.AvailableTags.FirstOrDefault(t => t.Id == tagId);
                            if (tag != null)
                            {
                                <input type="hidden" name="TagIds" value="@tag.Id" />
                                <div class="selected-item" data-id="@tag.Id">
                                    <span>@tag.Name</span>
                                    <button type="button" class="btn btn-sm btn-icon remove-item">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>

        <!-- Cover Image -->
        <div class="card mt-3">
            <div class="card-header">
                <h3 class="card-title">Ảnh bìa</h3>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label asp-for="CoverImageFile" class="form-label">Ảnh bìa</label>
                    <input asp-for="CoverImageFile" type="file" class="form-control" accept="image/*" />
                    <span asp-validation-for="CoverImageFile" class="text-danger"></span>

                    @if (!string.IsNullOrEmpty(Model.CoverImage))
                    {
                        <div class="mt-2">
                            <img src="@Model.CoverImage" class="img-thumbnail" style="max-height: 150px;" />
                            <input type="hidden" asp-for="CoverImage" />
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@if (Model.Id > 0)
{
    <!-- Add Image Modal -->
    <div class="modal modal-blur fade" id="add-image-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Thêm ảnh mới</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="add-image-form">
                        <input type="hidden" name="GalleryId" value="@Model.Id" />
                        <div class="mb-3">
                            <label class="form-label required">Chọn ảnh</label>
                            <input type="file" class="form-control" name="ImageFile" id="imageFile" accept="image/*" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tiêu đề</label>
                            <input type="text" class="form-control" name="Title" id="imageTitle" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Alt Text</label>
                            <input type="text" class="form-control" name="AltText" id="imageAltText" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mô tả</label>
                            <textarea class="form-control" name="Description" id="imageDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-link link-secondary" data-bs-dismiss="modal">
                        Hủy
                    </button>
                    <button type="button" class="btn btn-primary ms-auto" id="save-image-btn">
                        <i class="fas fa-save me-2"></i> Lưu
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Image Modal -->
    <div class="modal modal-blur fade" id="edit-image-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Chỉnh sửa ảnh</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="edit-image-form">
                        <input type="hidden" name="Id" id="editImageId" />
                        <input type="hidden" name="GalleryId" value="@Model.Id" />
                        <input type="hidden" name="ImageUrl" id="editImageUrl" />
                        <input type="hidden" name="ThumbnailUrl" id="editThumbnailUrl" />
                        <div class="mb-3">
                            <label class="form-label">Ảnh hiện tại</label>
                            <div class="text-center">
                                <img id="currentImage" src="/placeholder.svg" class="img-thumbnail" style="max-height: 200px;" />
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Thay đổi ảnh (để trống nếu không thay đổi)</label>
                            <input type="file" class="form-control" name="ImageFile" id="editImageFile" accept="image/*" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tiêu đề</label>
                            <input type="text" class="form-control" name="Title" id="editImageTitle" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Alt Text</label>
                            <input type="text" class="form-control" name="AltText" id="editImageAltText" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mô tả</label>
                            <textarea class="form-control" name="Description" id="editImageDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-link link-secondary" data-bs-dismiss="modal">
                        Hủy
                    </button>
                    <button type="button" class="btn btn-primary ms-auto" id="update-image-btn">
                        <i class="fas fa-save me-2"></i> Cập nhật
                    </button>
                </div>
            </div>
        </div>
    </div>
}

@section Scripts {
    <!-- Include Sortable.js for drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.14.0/Sortable.min.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize Summernote
            $('.summernote').summernote({
                height: 200,
                toolbar: [
                    ['style', ['style']],
                    ['font', ['bold', 'underline', 'clear']],
                    ['color', ['color']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'picture']],
                    ['view', ['fullscreen', 'codeview', 'help']]
                ],
                callbacks: {
                    onImageUpload: function(files) {
                        // You can implement image upload functionality here
                        // For now, we'll just show a message
                        toastr.info('Tính năng tải ảnh đang được phát triển');
                    }
                }
            });

            // Initialize Tom Select for tags
            var tagSelect = new TomSelect('#tagSelect', {
                plugins: ['remove_button'],
                valueField: 'id',
                labelField: 'name',
                searchField: 'name',
                create: false,
                maxItems: null,
                placeholder: 'Chọn thẻ...',
                render: {
                    option: function(data, escape) {
                        return '<div>' + escape(data.name) + '</div>';
                    },
                    item: function(data, escape) {
                        return '<div>' + escape(data.name) + '</div>';
                    }
                },
                onChange: function(values) {
                    // Clear existing tags
                    $('#selectedTags').empty();

                    // Add selected tags
                    values.forEach(function(value) {
                        var option = this.options[value];
                        if (option) {
                            $('#selectedTags').append(`
                                <input type="hidden" name="TagIds" value="${option.id}" />
                                <div class="selected-item" data-id="${option.id}">
                                    <span>${option.name}</span>
                                    <button type="button" class="btn btn-sm btn-icon remove-item">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `);
                        }
                    }, this);
                }
            });

            // Prepare data for Tom Select
            var tagOptions = [];
            $('#tagSelect option').each(function() {
                if ($(this).val()) {
                    tagOptions.push({
                        id: $(this).val(),
                        name: $(this).text(),
                        selected: $(this).is(':selected')
                    });
                }
            });

            // Set initial values for tags
            tagSelect.clear();
            tagSelect.clearOptions();
            tagSelect.addOptions(tagOptions);

            var selectedTagIds = @Html.Raw(Json.Serialize(Model.TagIds));
            if (selectedTagIds && selectedTagIds.length) {
                tagSelect.setValue(selectedTagIds);
            }

            // Remove selected item
            $(document).on('click', '.remove-item', function() {
                var item = $(this).closest('.selected-item');
                var id = item.data('id');

                // Remove from Tom Select
                if (item.parent().attr('id') === 'selectedTags') {
                    tagSelect.removeItem(id.toString());
                }

                // Remove item
                item.remove();
            });

            // Generate slug from name
            $('#generateSlug').on('click', function() {
                var name = $('#galleryName').val();
                if (!name) {
                    toastr.error('Vui lòng nhập tên thư viện trước');
                    return;
                }

                $.ajax({
                    url: '@Url.Action("GenerateSlug", "Gallery")',
                    type: 'POST',
                    data: { name: name },
                    success: function(result) {
                        $('#gallerySlug').val(result.slug);
                    },
                    error: function() {
                        toastr.error('Đã xảy ra lỗi khi tạo slug');
                    }
                });
            });

            // Auto-generate slug when name changes
            $('#galleryName').on('blur', function() {
                if ($('#gallerySlug').val() === '') {
                    $('#generateSlug').click();
                }
            });

            // Initialize sortable for gallery images
            var sortableImages = document.querySelector('.sortable-images');
            if (sortableImages) {
                new Sortable(sortableImages, {
                    animation: 150,
                    ghostClass: 'bg-light',
                    onEnd: function() {
                        updateImageOrder();
                    }
                });
            }

            // Update image order
            function updateImageOrder() {
                var images = [];
                $('.sortable-images > div').each(function(index) {
                    images.push({
                        id: $(this).data('id'),
                        orderIndex: index
                    });
                });

                $.ajax({
                    url: '@Url.Action("ReorderImages", "Gallery")',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(images),
                    success: function(result) {
                        if (result.success) {
                            toastr.success('Đã cập nhật thứ tự ảnh');
                        } else {
                            toastr.error(result.message);
                        }
                    },
                    error: function() {
                        toastr.error('Đã xảy ra lỗi khi cập nhật thứ tự ảnh');
                    }
                });
            }

            // Add new image
            $('#save-image-btn').on('click', function() {
                var formData = new FormData($('#add-image-form')[0]);

                $.ajax({
                    url: '@Url.Action("AddImage", "Gallery")',
                    type: 'POST',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(result) {
                        if (result.success) {
                            toastr.success(result.message);

                            // Add new image to the gallery
                            var newImage = `
                                <div class="col-sm-6 col-lg-4" data-id="${result.image.id}">
                                    <div class="card card-sm">
                                        <a href="${result.image.imageUrl}" class="d-block" target="_blank">
                                            <img src="${result.image.thumbnailUrl || result.image.imageUrl}"
                                                 class="card-img-top" alt="${result.image.altText || ''}" style="height: 180px; object-fit: cover;">
                                        </a>
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div>${result.image.title || 'Không có tiêu đề'}</div>
                                                    <div class="text-muted">Thứ tự: ${result.image.orderIndex}</div>
                                                </div>
                                                <div class="ms-auto">
                                                    <button type="button" class="btn btn-icon btn-sm btn-outline-primary edit-image"
                                                            data-id="${result.image.id}"
                                                            data-image-url="${result.image.imageUrl}"
                                                            data-thumbnail-url="${result.image.thumbnailUrl || ''}"
                                                            data-alt-text="${result.image.altText || ''}"
                                                            data-title="${result.image.title || ''}"
                                                            data-description="${result.image.description || ''}">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button type="button" class="btn btn-icon btn-sm btn-outline-danger delete-image" data-id="${result.image.id}">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;

                            // If empty state is shown, remove it
                            if ($('.empty').length) {
                                $('.empty').parent().html('<div class="row row-cards sortable-images"></div>');
                            }

                            // Add the new image
                            $('.sortable-images').append(newImage);

                            // Reset form and close modal
                            $('#add-image-form')[0].reset();
                            $('#add-image-modal').modal('hide');
                        } else {
                            toastr.error(result.message);
                        }
                    },
                    error: function() {
                        toastr.error('Đã xảy ra lỗi khi thêm ảnh');
                    }
                });
            });

            // Edit image
            $(document).on('click', '.edit-image', function() {
                var button = $(this);
                var id = button.data('id');
                var imageUrl = button.data('image-url');
                var thumbnailUrl = button.data('thumbnail-url');
                var altText = button.data('alt-text');
                var title = button.data('title');
                var description = button.data('description');

                $('#editImageId').val(id);
                $('#editImageUrl').val(imageUrl);
                $('#editThumbnailUrl').val(thumbnailUrl);
                $('#currentImage').attr('src', imageUrl);
                $('#editImageAltText').val(altText);
                $('#editImageTitle').val(title);
                $('#editImageDescription').val(description);

                $('#edit-image-modal').modal('show');
            });

            // Update image
            $('#update-image-btn').on('click', function() {
                var formData = new FormData($('#edit-image-form')[0]);

                $.ajax({
                    url: '@Url.Action("UpdateImage", "Gallery")',
                    type: 'POST',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(result) {
                        if (result.success) {
                            toastr.success(result.message);

                            // Update image in the gallery
                            var imageCard = $(`.sortable-images > div[data-id="${result.image.id}"]`);
                            var img = imageCard.find('img');
                            var link = imageCard.find('a');
                            var title = imageCard.find('.card-body > .d-flex > div:first-child > div:first-child');
                            var editButton = imageCard.find('.edit-image');

                            img.attr('src', result.image.thumbnailUrl || result.image.imageUrl);
                            img.attr('alt', result.image.altText || '');
                            link.attr('href', result.image.imageUrl);
                            title.text(result.image.title || 'Không có tiêu đề');

                            editButton.data('image-url', result.image.imageUrl);
                            editButton.data('thumbnail-url', result.image.thumbnailUrl || '');
                            editButton.data('alt-text', result.image.altText || '');
                            editButton.data('title', result.image.title || '');
                            editButton.data('description', result.image.description || '');

                            // Reset form and close modal
                            $('#edit-image-form')[0].reset();
                            $('#edit-image-modal').modal('hide');
                        } else {
                            toastr.error(result.message);
                        }
                    },
                    error: function() {
                        toastr.error('Đã xảy ra lỗi khi cập nhật ảnh');
                    }
                });
            });

            // Delete image
            $(document).on('click', '.delete-image', function() {
                var button = $(this);
                var id = button.data('id');

                if (confirm('Bạn có chắc chắn muốn xóa ảnh này không?')) {
                    $.ajax({
                        url: '@Url.Action("DeleteImage", "Gallery")',
                        type: 'POST',
                        data: { id: id },
                        success: function(result) {
                            if (result.success) {
                                toastr.success(result.message);

                                // Remove image from the gallery
                                var imageCard = $(`.sortable-images > div[data-id="${id}"]`);
                                imageCard.remove();

                                // If no images left, show empty state
                                if ($('.sortable-images > div').length === 0) {
                                    $('.sortable-images').parent().html(`
                                        <div class="empty">
                                            <div class="empty-img">
                                                <i class="fas fa-images fa-5x text-muted"></i>
                                            </div>
                                            <p class="empty-title">Chưa có ảnh nào</p>
                                            <p class="empty-subtitle text-muted">
                                                Thêm ảnh vào thư viện để hiển thị ở đây
                                            </p>
                                            <div class="empty-action">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-image-modal">
                                                    <i class="fas fa-plus me-2"></i> Thêm ảnh mới
                                                </button>
                                            </div>
                                        </div>
                                    `);
                                }
                            } else {
                                toastr.error(result.message);
                            }
                        },
                        error: function() {
                            toastr.error('Đã xảy ra lỗi khi xóa ảnh');
                        }
                    });
                }
            });
        });
    </script>

    <style>
        /* Tom Select customizations */
        .ts-wrapper {
            width: 100%;
        }

        .ts-control {
            border: 1px solid #dee2e6;
            padding: 0.375rem 0.75rem;
            border-radius: 0.25rem;
        }

        .ts-dropdown {
            border: 1px solid #dee2e6;
            border-radius: 0.25rem;
        }

        /* Selected items styling */
        .selected-item {
            display: inline-flex;
            align-items: center;
            background-color: #f0f0f0;
            border-radius: 4px;
            padding: 4px 8px;
            margin-right: 8px;
            margin-bottom: 8px;
        }

            .selected-item .btn {
                padding: 0;
                margin-left: 8px;
                color: #999;
            }

                .selected-item .btn:hover {
                    color: #dc3545;
                }

        .category-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
        }

        /* Summernote customizations */
        .note-editor {
            border-color: #dee2e6 !important;
        }

        .note-toolbar {
            background-color: #f8f9fa;
        }

        .note-btn {
            background-color: #fff;
            border-color: #dee2e6;
        }

            .note-btn:hover {
                background-color: #e9ecef;
            }

        /* Gallery images */
        .sortable-images .card {
            transition: all 0.2s ease;
        }

            .sortable-images .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            }

        .sortable-images .card-img-top {
            object-fit: cover;
            height: 180px;
        }
    </style>
}
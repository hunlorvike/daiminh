@using web.Areas.Admin.ViewModels;
@model SelectMediaModalViewModel

<div id="media-browser-content">

    <div id="media-browser-grid-container" style="min-height: 300px; max-height: 60vh; overflow-y: auto;"
        class="border rounded p-2 bg-light-subtle">
        <div class="text-center p-4" id="media-browser-loading-indicator" style="display: none;">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2 text-muted">Đang tải...</p>
        </div>

        <div id="media-browser-files"
            class="row g-3 row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 row-cols-xl-6">
            @if (Model.Files != null && Model.Files.Any())
            {
                @foreach (var file in Model.Files)
                {
                    <partial name="Components/Media/_Media.FileItem" model="file"
                        view-data='new ViewDataDictionary(ViewData) { { "IsInModal", true } }' />
                }
            }
        </div>

        <div class="text-center text-muted p-5" id="media-browser-empty-indicator" style="display: none;">
            <div class="empty-icon mb-3">
                <i class="ti ti-photo-off fs-1"></i>
            </div>
            <p class="empty-title">Không có tập tin nào</p>
            <p class="empty-subtitle text-muted">
                Thư viện của bạn hiện đang trống hoặc không có kết quả tìm kiếm phù hợp.
            </p>
        </div>
    </div>
</div>
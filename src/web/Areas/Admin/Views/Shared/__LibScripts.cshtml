<!-- Jquery Scripts -->
<script src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js" asp-append-version="true"></script>
<script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js" asp-append-version="true"></script>

<!-- Swiper Scripts -->
<script src="~/lib/swiper/swiper-bundle.min.js" asp-append-version="true"></script>

<!-- Tabler Scripts -->
<script src="~/lib/tabler/core/dist/js/tabler.min.js" asp-append-version="true"></script>

<!-- Summernote Scripts -->
<script src="~/lib/summernote/dist/summernote-bs5.min.js" asp-append-version="true"></script>
<script src="~/lib/summernote/dist/lang/summernote-vi-vn.js" asp-append-version="true"></script>

<!-- Tom-select Scripts -->
<script src="~/lib/tom-select/dist/js/tom-select.complete.min.js" asp-append-version="true"></script>

<!-- Font Awesome -->
<script src="~/lib/font-awesome/js/all.min.js" asp-append-version="true"></script>

<!-- Daiminh modules -->
<script src="~/js/FW/jquery.daiminh.js" asp-append-version="true"></script>

<!-- Datatables Scripts -->
<script src="~/lib/datatables/js/dataTables.min.js" asp-append-version="true"></script>

<!-- Toastr -->
<script src="~/lib/toastr/build/toastr.min.js" asp-append-version="true"></script>
<script>
		$(document).ready(() => {
		  // Media browser popup
		  window.openMediaBrowser = (callback, fileType) => {
			let url = `/Admin/Media/Browser?callback=${callback}`
			if (fileType) {
			  url += `&fileType=${fileType}`
			}
			window.open(url, "MediaBrowser", "width=900,height=600")
		  }

		  // Example callback function
		  window.selectMedia = (file) => {
			console.log("Selected file:", file)
			// Implement your logic here to handle the selected file
			// For example, update an input field with the file URL
			$("#selectedMediaUrl").val(file.url)
			$("#selectedMediaPreview").attr("src", file.thumbnail).show()
		  }

			$("#previewMetaTags").on("click", () => {
			  const title = $("#DefaultTitle").val()
			  const description = $("#DefaultDescription").val()
			  const keywords = $("#DefaultKeywords").val()

			  $.ajax({
				url: "/admin/seo/preview-meta-tags",
				type: "GET",
				data: {
				  title: title,
				  description: description,
				  keywords: keywords,
				},
				success: (response) => {
				  $("#metaTagsPreview").html(response)
				  $("#previewModal").modal("show")
				},
				error: (xhr) => {
				  toastr.error("Đã xảy ra lỗi khi tạo xem trước meta tags.")
				  console.error(xhr.responseText)
				},
			  })
		})

			// Xử lý tạo dữ liệu có cấu trúc mẫu
		  $(".generate-sample-json").on("click", function () {
			const type = $(this).data("type")
			const targetId = $(this).data("target")

			let sampleJson = ""

			if (type === "organization") {
			  sampleJson = JSON.stringify(
				{
				  "@@context": "https://schema.org",
				  "@@type": "Organization",
				  name: "Tên công ty của bạn",
				  url: "https://www.example.com",
				  logo: "https://www.example.com/images/logo.png",
				  contactPoint: {
					"@@type": "ContactPoint",
					telephone: "+84-123-456-789",
					contactType: "customer service",
				  },
				  address: {
					"@@type": "PostalAddress",
					streetAddress: "123 Đường ABC",
					addressLocality: "Hà Nội",
					postalCode: "100000",
					addressCountry: "VN",
				  },
				  sameAs: [
					"https://www.facebook.com/yourcompany",
					"https://www.twitter.com/yourcompany",
					"https://www.linkedin.com/company/yourcompany",
				  ],
				},
				null,
				2,
			  )
			} else if (type === "website") {
			  sampleJson = JSON.stringify(
				{
				  "@@context": "https://schema.org",
				  "@@type": "WebSite",
				  name: "Tên website của bạn",
				  url: "https://www.example.com",
				  potentialAction: {
					"@@type": "SearchAction",
					target: "https://www.example.com/search?q={search_term_string}",
					"query-input": "required name=search_term_string",
				  },
				},
				null,
				2,
			  )
			} else if (type === "sitemap") {
			  sampleJson = JSON.stringify(
				{
				  include: ["products", "categories", "articles", "pages"],
				  exclude: ["admin", "login", "cart", "checkout"],
				  changefreq: {
					products: "weekly",
					categories: "monthly",
					articles: "daily",
					pages: "monthly",
				  },
				  priority: {
					products: 0.8,
					categories: 0.7,
					articles: 0.6,
					pages: 0.5,
				  },
				},
				null,
				2,
			  )
			}

			$(targetId).val(sampleJson)

			// Nếu đang sử dụng Ace Editor
			const editorId = targetId.replace("#", "")
			if (window.aceEditors && window.aceEditors[editorId]) {
			  window.aceEditors[editorId].setValue(sampleJson)
			}
		  })
	})
</script>
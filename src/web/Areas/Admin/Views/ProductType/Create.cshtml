@using web.Areas.Admin.ViewModels.ProductType
@model ProductTypeViewModel
@{
	ViewData["Title"] = "Thêm loại sản phẩm - Hệ thống quản trị";
}

<div class="row">
	<!-- Main content column -->
	<div class="col-lg-8">
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Thông tin loại sản phẩm</h3>
			</div>
			<div class="card-body">
				<form asp-action="Create" method="post">
					@Html.AntiForgeryToken()
					<div asp-validation-summary="ModelOnly" class="text-danger"></div>

					<partial name="_ProductTypeFormFields" model="Model" />

					<div class="d-flex justify-content-between mt-4">
						<a asp-action="Index" class="btn btn-outline-secondary">
							<i class="ti ti-arrow-left me-2"></i> Quay lại
						</a>
						<button type="submit" class="btn btn-primary">
							<i class="ti ti-device-floppy me-2"></i> Lưu loại sản phẩm
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<!-- Sidebar column -->
	<div class="col-lg-4">
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Tabler Icons</h3>
			</div>
			<div class="card-body">
				<p>Một số icon phổ biến:</p>
				<div class="row row-cols-3 g-3 mb-3">
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-box">
							<i class="ti ti-box" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-box</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-box-multiple">
							<i class="ti ti-box-multiple" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-box-multiple</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-brush">
							<i class="ti ti-brush" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-brush</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-tool">
							<i class="ti ti-tool" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-tool</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-hammer">
							<i class="ti ti-hammer" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-hammer</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-activity-heartbeat">
							<i class="ti ti-activity-heartbeat" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-activity-heartbeat</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-spray">
							<i class="ti ti-spray" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-spray</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-paint">
							<i class="ti ti-paint" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-paint</div>
					</div>
					<div class="col text-center">
						<button type="button" class="btn btn-icon btn-outline-secondary icon-btn" data-icon="ti ti-color-picker">
							<i class="ti ti-color-picker" style="font-size: 1.5rem;"></i>
						</button>
						<div class="mt-1 small">ti-color-picker</div>
					</div>
				</div>
				<p class="small text-muted">Xem thêm icons tại <a href="https://tabler-icons.io/" target="_blank">Tabler Icons</a></p>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<script src="~/js/slug.js"></script>
	<script>
		$(document).ready(function() {
			const nameInput = $('#Name');
			const slugInput = $('#Slug');
			const generateBtn = $('#generateSlugButton');

			nameInput.on('input', function() {
				if (slugInput.val() === '') {
					slugInput.val(generateVietnameseSlug(nameInput.val()));
				}
			});

			generateBtn.on('click', function() {
				slugInput.val(generateVietnameseSlug(nameInput.val()));
			});

			$('#Icon').on('input', function() {
				var iconClass = $(this).val().trim(); 
				if (iconClass && iconClass.startsWith('ti ti-')) {
					$('#iconPreview').attr('class', iconClass);
				} else {
					$('#iconPreview').attr('class', 'ti ti-box');
				}
			});

			$('.icon-btn').on('click', function() {
				var iconClass = $(this).data('icon');
				$('#Icon').val(iconClass).trigger('input');
			});
		});
	</script>
}